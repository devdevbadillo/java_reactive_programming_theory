# Java Reactive Programming

## Tabla de contenido

- [Introducción a la programación reactiva](#introduction-reactive)
  - [Antecedentes](#antecedentes)
    - [Problemas de la programación imperativa/síncrona](#problemas-imperativa-sincrona)
    - [Problemas de la programación asíncrona tradicional](#problemas-asincrona-tradicional)
  - [Process / Thread / CPU / RAM / Scheduler](#process-thread-cpu-ram-scheduler)
    - [Repaso de Hilos y Procesos](#hilos-procesos-reactive)
    - [CPU y RAM](#cpu-ram-reactive)
    - [Scheduler del Sistema Operativo](#scheduler-reactive)
    - [Concurrencia vs. Paralelismo](#concurrencia-paralelismo-reactive)
    - [Efectos secundarios de la concurrencia](#efectos-secundarios-concurrencia-reactive)
  - [IO Models](#io-models)
    - [I/O Bloqueante (Blocking I/O)](#io-bloqueante)
    - [I/O No Bloqueante (Non-Blocking I/O)](#io-no-bloqueante)
    - [I/O Asíncrono (Asynchronous I/O)](#io-asincrono)
    - [Java NIO y NIO.2 (AIO)](#java-nio-nio2)
  - [Communication Patterns](#communication-patterns)
    - [Síncrono Request/Response](#sincrono-request-response)
    - [Asíncrono Request/Response](#asincrono-request-response)
    - [Streaming](#streaming-reactive)
    - [Event-Driven Architectures](#event-driven-architectures)
  - [¿Qué es la programación reactiva?](#what-is-reactive-programming)
    - [Definición formal](#definicion-formal-reactive)
    - [Programación Orientada a Eventos vs. Reactiva](#orientada-eventos-vs-reactiva)
    - [Ventajas del enfoque reactivo](#ventajas-enfoque-reactivo)
  - [Reactive Streams Specification](#reactive-streams-specification)
    - [Orígenes y propósito](#origenes-proposito-reactive-streams)
    - [Interfaces Clave](#interfaces-clave-reactive-streams)
    - [Reglas y Garantías de la Especificación](#reglas-garantias-reactive-streams)
  - [Publisher/Subscriber Communication - Step By Step](#publisher-subscriber-communication)
    - [Demostración del flujo](#demostracion-flujo-reactive)
    - [El rol de `request()` (Backpressure)](#rol-request-backpressure)
    - [Diagramas Marble (Marble Diagrams)](#diagramas-marble)

- [Mono](#mono)
  - [Concepto de `Mono`](#concepto-mono)
    - [Emisión de 0 o 1 elemento](#emision-0-o-1-elemento)
    - [Lazy vs. Eager](#lazy-vs-eager-mono)
  - [Creación de `Mono`s](#creacion-monos)
    - [`Mono.just()` y `Mono.empty()`](#mono-just-empty)
    - [`Mono.error()`](#mono-error)
    - [`Mono.fromCallable()`, `Mono.fromRunnable()`, `Mono.fromSupplier()`](#mono-fromcallable-runnable-supplier)
    - [`Mono.defer()`](#mono-defer)
    - [`Mono.fromFuture()`, `Mono.fromCompletionStage()`](#mono-fromfuture-completionstage)
  - [Transformación de `Mono`s](#transformacion-monos)
    - [`map()`](#map-mono)
    - [`flatMap()`](#flatmap-mono)
    - [`flatMapMany()`](#flatmapmany-mono)
  - [Manejo de Errores en `Mono`](#manejo-errores-mono)
    - [`onErrorReturn()`](#onerrorreturn-mono)
    - [`onErrorResume()`](#onerrorresume-mono)
    - [`doOnError()`](#doonerror-mono)
    - [`retry()`](#retry-mono)
    - [`doFinally()`, `doOnTerminate()`](#dofinally-doonterminate-mono)
  - [Manejo de Eventos del Ciclo de Vida](#manejo-eventos-ciclo-vida-mono)
  - [Operadores de Condición y Filtrado](#operadores-condicion-filtrado-mono)
  - [Combinación de `Mono`s](#combinacion-monos)
    - [`zipWith()`](#zipwith-mono)
    - [`and()`](#and-mono)
    - [`then()`](#then-mono)
  - [Suscripción a un `Mono`](#suscripcion-mono)
    - [`subscribe()`](#subscribe-mono)
    - [`block()`](#block-mono)
    - [`toFuture()`, `toCompletionStage()`](#tofuture-tocompletionstage-mono)

- [Flux](#flux)
  - [Concepto de `Flux`](#concepto-flux)
    - [Emisión de 0 a N elementos](#emision-0-a-n-elementos)
    - [Lazy Execution](#lazy-execution-flux)
  - [Creación de `Flux`s](#creacion-fluxs)
    - [`Flux.just()`](#flux-just)
    - [`Flux.fromIterable()`, `Flux.fromArray()`, `Flux.fromStream()`](#flux-fromiterable-array-stream)
    - [`Flux.range()`](#flux-range)
    - [`Flux.interval()`](#flux-interval)
    - [`Flux.generate()`](#flux-generate)
    - [`Flux.create()`](#flux-create)
    - [`Flux.error()`, `Flux.empty()`](#flux-error-empty)
  - [Transformación de `Flux`s](#transformacion-fluxs)
    - [`map()`](#map-flux)
    - [`flatMap()`](#flatmap-flux)
    - [`concatMap()`](#concatmap-flux)
    - [`groupBy()`](#groupby-flux)
  - [Filtrado y Condición](#filtrado-condicion-flux)
  - [Combinación de `Flux`s](#combinacion-fluxs)
    - [`merge()`](#merge-flux)
    - [`concat()`](#concat-flux)
    - [`zip()`](#zip-flux)
    - [`combineLatest()`](#combinelatest-flux)
    - [`withLatestFrom()`](#withlatestfrom-flux)
  - [Agregación y Reducción](#agregacion-reduccion-flux)
    - [`reduce()`](#reduce-flux)
    - [`collectList()`, `collectMap()`, `collectMultimap()`](#collectlist-map-multimap-flux)
    - [`count()`, `hasElements()`](#count-haselements-flux)
  - [Manejo de Errores en `Flux`](#manejo-errores-flux)
  - [Suscripción a un `Flux`](#suscripcion-flux)
    - [`subscribe()`](#subscribe-flux)
    - [`blockFirst()`, `blockLast()`](#blockfirst-blocklast-flux)

- [Operators](#operators)
  - [Categorías de Operadores](#categorias-operadores)
  - [Profundización en Operadores Comunes](#profundizacion-operadores-comunes)
  - [Operadores de Error Handling](#operadores-error-handling-reactive)
    - [`retryWhen()`](#retrywhen-reactive)
    - [`using()`](#using-reactive)
  - [Backpressure y Operadores](#backpressure-operadores)
  - [Composición de Operadores](#composicion-operadores)

- [Hot & Cold Publishers](#hot-cold-publishers)
  - [Publishers Fríos (Cold Publishers)](#cold-publishers)
    - [Definición](#definicion-cold-publishers)
    - [Analogía](#analogia-cold-publishers)
    - [Ejemplos](#ejemplos-cold-publishers)
    - [Características](#caracteristicas-cold-publishers)
  - [Publishers Calientes (Hot Publishers)](#hot-publishers)
    - [Definición](#definicion-hot-publishers)
    - [Analogía](#analogia-hot-publishers)
    - [Ejemplos](#ejemplos-hot-publishers)
    - [Características](#caracteristicas-hot-publishers)
  - [Transformar Cold a Hot](#transformar-cold-a-hot)
    - [`publish()` / `autoConnect()`](#publish-autoconnect)
    - [`share()`](#share-reactive)
    - [`cache()`](#cache-reactive)
  - [Uso de `Sinks`](#uso-sinks)
    - [`Sinks.One`, `Sinks.Many`, `Sinks.Empty`](#sinks-one-many-empty)
    - [Cómo usar `Sinks`](#como-usar-sinks)

- [Threading & Schedulers](#threading-schedulers)
  - [El modelo de hilo de Project Reactor](#modelo-hilo-project-reactor)
    - [`subscribeOn()`](#subscribeon)
    - [`publishOn()`](#publishon)
  - [Schedulers de Project Reactor](#schedulers-project-reactor)
    - [Concepto](#concepto-schedulers)
    - [Tipos de Schedulers](#tipos-schedulers)
  - [Mejores Prácticas de Schedulers](#mejores-practicas-schedulers)

- [Back Pressure / Overflow Strategy](#backpressure-overflow-strategy)
  - [Estrategias](#estrategias-backpressure)
  - [`onBackpressureBuffer()`, `onBackpressureDrop()`, etc.](#onbackpressurebuffer-drop)
  - [Concepto de Request Management](#request-management)

- [Batching / Windowing / Grouping](#batching-windowing-grouping)
  - [`buffer()`, `window()`, `groupBy()`](#buffer-window-groupby)

- [Repeat & Retry](#repeat-retry-reactive)
  - [`repeat()`](#repeat-reactive)
  - [`retry()`](#retry-reactive)
  - [`retryWhen()`](#retrywhen-reactive-advanced)

- [Sinks](#sinks-advanced)
  - [`Sinks.One`, `Sinks.Many`, `Sinks.Empty`](#sinks-one-many-empty-advanced)
  - [Concepto de `emit()` y su seguridad](#emit-safety)
  - [Uso para integrar APIs que no son reactivas](#integrar-apis-no-reactivas)

- [Context](#context)
  - [`ContextView` y `Context`](#contextview-context)
  - [`contextWrite()`](#contextwrite)
  - [`deferContextual()`](#defercontextual)
  - [Casos de uso](#casos-uso-context)

- [Pruebas unitarias con Step Verifier](#unit-testing-step-verifier)
  - [La importancia de las pruebas reactivas](#importancia-pruebas-reactivas)
  - [`StepVerifier`](#stepverifier)
    - [`create()`](#create-stepverifier)
    - [`expectNext()`, `expectNextCount()`, `expectNextSequence()`](#expectnext-stepverifier)
    - [`expectError()`, `expectComplete()`](#expecterror-expectcomplete-stepverifier)
    - [`expectSubscription()`](#expectsubscription-stepverifier)
    - [`thenRequest()`](#thenrequest-stepverifier)
    - [`verifyComplete()`, `verifyError()`](#verifycomplete-verifyerror-stepverifier)
